<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./script.js" defer></script>
    <link rel="stylesheet" href="./style-rules.css" />
    <title>RPG D&D Regras</title>
  </head>
  <body>
    <nav>
      <ul>
        <li class="menu">
          <a href="./main.html"><p>Home</p></a>
        </li>
        <li class="menu">
          <a href="./Rules.html"><p>Regras</p></a>
        </li>
        <li class="menu">
          <a href="./Personagens.html"><p>Personagens</p></a>
        </li>
        <li class="menu">
            <a href="./Ficha.html"><p>Ficha</p></a>
        </li>
      </ul>
    </nav>

    <section id="Dados">
      <h1>ðŸŽ² Gerador de Dados de RPG ðŸŽ²</h1>

      <div class="dice-buttons">
        <button onclick="selectDice(4)">ðŸŽ²d4</button>
        <button onclick="selectDice(6)">ðŸŽ²d6</button>
        <button onclick="selectDice(8)">ðŸŽ²d8</button>
        <button onclick="selectDice(10)">ðŸŽ²d10</button>
        <button onclick="selectDice(12)">ðŸŽ²d12</button>
        <button onclick="selectDice(20)">ðŸŽ²d20</button>
        <button onclick="selectDice(100)">ðŸŽ²d100</button>
      </div>

      <div>
        <label for="rolls">Qtd. de Rolagens:</label>
        <input type="number" id="rolls" min="1" value="1" />
      </div>

      <button id="rollBtn" onclick="rollDice()">ðŸŽ² Gerar</button>

      <div id="result">Selecione um dado e clique em "Gerar"</div>
    </section>

    <section id="Rules">
      <h1>LIVROS e Regras</h1>

      <p>Livro do Mestre</p>
      <iframe
        style="width: 700px; height: 425px"
        src="https://online.anyflip.com/czfqj/pdai/index.html"
        seamless="seamless"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
        allowfullscreen="true"
      ></iframe>
      <p>Livro do Jogador</p>
      <iframe
        style="width: 700px; height: 425px"
        src="https://online.anyflip.com/iysif/dldz/index.html"
        seamless="seamless"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
        allowfullscreen="true"
      ></iframe>
      <p>Livro dos Monstros</p>
      <iframe
        style="width: 700px; height: 425px"
        src="https://online.anyflip.com/iyqz/ggdt/index.html"
        seamless="seamless"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
        allowfullscreen="true"
      ></iframe>
    </section>

    <script>
      let selectedDice = 0;

      function selectDice(sides) {
        selectedDice = sides;
        document.getElementById(
          "result"
        ).textContent = `Dado selecionado: d${sides}`;
      }

      function rollDice() {
        if (selectedDice === 0) {
          document.getElementById("result").textContent =
            "Por favor, selecione um dado primeiro.";
          return;
        }

        const numRolls = parseInt(document.getElementById("rolls").value);
        if (isNaN(numRolls) || numRolls < 1) {
          document.getElementById("result").textContent =
            "Digite um nÃºmero vÃ¡lido de rolagens.";
          return;
        }

        let results = [];
        let total = 0;

        for (let i = 0; i < numRolls; i++) {
          const result = Math.floor(Math.random() * selectedDice) + 1;
          results.push(result);
          total += result;
        }

        document.getElementById("result").innerHTML =
          `<p>Resultados do d${selectedDice} (${numRolls}x): ${results.join(
            ", "
          )}</p>` + (numRolls > 1 ? `<p>Soma total: ${total}</p>` : "");
      }
    </script>
  </body>
</html>
