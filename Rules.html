<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./script.js" defer></script>
    <link rel="stylesheet" href="./common-styles.css">
    <link rel="stylesheet" href="./style-rules.css" />
    <!-- Fonte medieval -->
    <link
      href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap"
      rel="stylesheet"
    />
    <title>RPG D&D Regras</title>
  </head>
  <body>
    <header>
      <h1>ğŸ›¡ï¸ RPG Masters</h1>
      <nav>
        <a href="./index.html">Home</a>
        <a href="./Rules.html">Regras</a>
        <a href="./ficha.html">Ficha</a>
      </nav>
    </header>

    <section id="sectionDados">
      <div class="divDados">
        <h1>ğŸ² Gerador de Dados de RPG ğŸ²</h1>
        <div id="divBotoes">
          <div class="dice-buttons">
            <button onclick="selectDice(4)">ğŸ²d4</button>
            <button onclick="selectDice(6)">ğŸ²d6</button>
            <button onclick="selectDice(8)">ğŸ²d8</button>
            <br>
            <button onclick="selectDice(10)">ğŸ²d10</button>
            <button onclick="selectDice(12)">ğŸ²d12</button>
            <button onclick="selectDice(20)">ğŸ²d20</button>
            <button onclick="selectDice(100)">ğŸ²d100</button>
          </div>
<br>
          <div>
            <label for="rolls">Qtd. de Rolagens:</label>
            <input type="number" id="rolls" min="1" value="1" />
          </div>

          <button id="rollBtn" onclick="rollDice()">ğŸ² Gerar</button>

          <div id="result">Selecione um dado e clique em "Gerar"</div>
        </div>
      </div>
    </section>

    <section id="sectionRules">
      <h1>LIVROS e Regras</h1>

      <h3>Livro do Mestre</h3>
      <iframe
        class="iframe-books"
        src="https://online.anyflip.com/czfqj/pdai/index.html"
        seamless="seamless"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
        allowfullscreen="true"
      ></iframe>
      <h3>Livro do Jogador</h3>
      <iframe
        class="iframe-books"
        src="https://online.anyflip.com/iysif/dldz/index.html"
        seamless="seamless"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
        allowfullscreen="true"
      ></iframe>
      <h3>Livro dos Monstros</h3>
      <iframe
        class="iframe-books"
        src="https://online.anyflip.com/iyqz/ggdt/index.html"
        seamless="seamless"
        scrolling="no"
        frameborder="0"
        allowtransparency="true"
        allowfullscreen="true"
      ></iframe>
    </section>

    <script>
      let selectedDice = 0;

      function selectDice(sides) {
        selectedDice = sides;
        document.getElementById(
          "result"
        ).textContent = `Dado selecionado: d${sides}`;
      }

      function rollDice() {
        if (selectedDice === 0) {
          document.getElementById("result").textContent =
            "Por favor, selecione um dado primeiro.";
          return;
        }

        const numRolls = parseInt(document.getElementById("rolls").value);
        if (isNaN(numRolls) || numRolls < 1) {
          document.getElementById("result").textContent =
            "Digite um nÃºmero vÃ¡lido de rolagens.";
          return;
        }

        let results = [];
        let total = 0;

        for (let i = 0; i < numRolls; i++) {
          const result = Math.floor(Math.random() * selectedDice) + 1;
          results.push(result);
          total += result;
        }

        document.getElementById("result").innerHTML =
          `<p>Resultados do d${selectedDice} (${numRolls}x): ${results.join(
            ", "
          )}</p>` + (numRolls > 1 ? `<p>Soma total: ${total}</p>` : "");
      }
    </script>
  </body>
</html>
